<?xml version="1.0" encoding="UTF-8"?>
<apiConfig>

  <api id="article">
    <description>기사 상세 정보를 조회한다.</description>
    <parameter>
      <totalId desc="기사Id" require="Y">[0-9]{1,9}</totalId>
    </parameter>
    <request resultName="BASIC">dps.article.basic</request>
    <request resultName="TITLE">dps.article.title</request>
    <request resultName="CONTENT">dps.article.content</request>
    <request resultName="REPORTER">dps.article.reporter</request>
    <request resultName="MASTERCODE">dps.article.mastercode</request>
    <request resultName="SERVICEMAP">dps.article.servicemap</request>
    <request resultName="KEYWORD">dps.article.keyword</request>
    <request resultName="CLICKCNT">dps.article.clickcnt</request>
    <request resultName="MULTI">dps.article.multi</request>
    <request resultName="META_FB">dps.article.meta_fb</request>
    <request resultName="META_TW">dps.article.meta_tw</request>
    <request resultName="META_JA">dps.article.meta_ja</request>
    <keys>
      totalId
    </keys>
  </api>

  <api id="article.n">
    <description>기사 상세 정보를 조회한다.v2</description>
    <parameter>
      <totalId desc="기사Id" type="number" required="Y">[0-9]{1,9}</totalId>
    </parameter>
    <request dmlType="sp" setNames="_DATA,CODE,REPORTER,COMPONENT">dps.article.articleN</request>
    <keys>
      totalId
    </keys>
  </api>

  <api id="section">
    <description>카테고리별 기사 목록을 조회한다.</description>
    <parameter>
      <pageIndex default="1" type="number" desc="페이지번호">[0-9]{1,9}</pageIndex>
      <pageSize default="20" type="number" desc="기사갯수">[0-9]{1,9}</pageSize>
      <serviceCodeList default="" desc="서비스코드">.{1,500}</serviceCodeList>
      <masterCodeList default="" desc="마스터코드">.{1,500}</masterCodeList>
      <keywordList default="" desc="키워드">.{1,500}</keywordList>
      <usageType default="" desc="사용형태">.{1,100}</usageType>
      <contentTypeList default="" desc="컨텐트타입">.{1,100}</contentTypeList>
      <startSearchDate default="2020-08-21 00:00:00" desc="시작일">.{1,100}</startSearchDate>
      <endSearchDate default="2020-09-01 23:59:59" desc="종료일">.{1,100}</endSearchDate>
      <startTotalId default="0" type="number" desc="TOTALID시작">.{1,100}</startTotalId>
      <exceptTotalIdList default="" desc="TOTALID제외">.{1,100}</exceptTotalIdList>
      <exceptMasterCodeList default="" desc="마스터코드제외">.{1,100}</exceptMasterCodeList>
      <exceptSourceCodeList default="" desc="소스코드제외">.{1,100}</exceptSourceCodeList>
      <isExistThumbnail default="N" desc="썸네일존재">.{1,100}</isExistThumbnail>
      <usedTotalCount default="Y" desc="총건수사용">.{1,100}</usedTotalCount>
      <totalCount default="0" type="number" desc="총건수(OUT)">.{1,100}</totalCount>
    </parameter>
    <request dmlType="sp" setNames="_DATA,SOURCES">dps.article.category</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("totalCount");
    </request>
    <keys>
      pageIndex
      pageSize
      serviceCodeList
      masterCodeList
      keywordList
    </keys>
  </api>

  <!--편집기사목록 조회. id 수정하지 말것-->
  <api id="desking" expire="1s">
    <description>편집기사 목록을 조회한다.</description>
    <parameter>
      <ids desc="데이타셋 아이디" hints="datasetSeqs" require="Y">^[0-9]{1,6}(,[0-9]{1,6})*$</ids>
    </parameter>
    <request dmlType="sp" setNames="_DATA,RDATA">dps.article.desking</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      ids
      #paging
    </keys>
  </api>

  <api id="digitalSpecial" expire="5s">
    <description>디지털스페셜 정보를 조회한다.</description>
    <parameter>
      <digitalSpecialId desc="디지털스페셜 Id" require="Y">[0-9]{1,20}</digitalSpecialId>
    </parameter>
    <request>dps.article.digitalSpecial</request>
    <keys>
      digitalSpecialId
    </keys>
  </api>

</apiConfig>
