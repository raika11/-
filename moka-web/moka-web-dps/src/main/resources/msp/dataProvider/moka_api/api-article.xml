<?xml version="1.0" encoding="UTF-8"?>
<apiConfig>

  <!--
  <api id="article">
    <description>기사 상세 정보를 조회한다.</description>
    <parameter>
      <totalId desc="기사Id" require="Y">[0-9]{1,9}</totalId>
    </parameter>
    <request resultName="BASIC">dps.article.Abasic</request>
    <request resultName="TITLE">dps.article.Atitle</request>
    <request resultName="CONTENT">dps.article.Acontent</request>
    <request resultName="REPORTER">dps.article.Areporter</request>
    <request resultName="MASTERCODE">dps.article.Amastercode</request>
    <request resultName="SERVICEMAP">dps.article.Aservicemap</request>
    <request resultName="KEYWORD">dps.article.Akeyword</request>
    <request resultName="CLICKCNT">dps.article.Aclickcnt</request>
    <request resultName="MULTI">dps.article.Amulti</request>
    <request resultName="META_FB">dps.article.Ameta_fb</request>
    <request resultName="META_TW">dps.article.Ameta_tw</request>
    <request resultName="META_JA">dps.article.Ameta_ja</request>
    <keys>
      totalId
    </keys>
  </api>
  -->
  <api id="article.info" resultWrap="N">
    <description>기사 상세 정보를 조회한다.v2</description>
    <parameter>
      <totalId desc="기사Id" type="number" required="Y">^[0-9]{1,9}$</totalId>
    </parameter>
    <request dmlType="sp" setNames="_DATA,CODE,REPORTER,COMPONENT">dps.article.articleN</request>
    <request type="module">jmnet.moka.web.dps.module.ArticleModule</request>
    <keys>
      totalId
    </keys>
  </api>

  <api id="list">
    <description>기사 목록을 반환한다.</description>
    <parameter>
      <sources desc="소스코드">^.{0,1000}$</sources>
      <scodes desc="서비스코드">^.{0,1000}$</scodes>
      <mcodes desc="마스터코드">^.{0,1000}$</mcodes>
      <keywords desc="키워드">^.{0,1000}$</keywords>
      <usage desc="권한" default="P">^[P|T|J|I|O|C|U|R|M|T|S]{1}$</usage>
      <ctype desc="컨텐츠타입" default="R">^[RPMW]{1}$</ctype>
      <startdt desc="검색시작일">^.{0,1000}$</startdt>
      <enddt desc="검색종료일">^.{0,1000}$</enddt>
      <term type="number" desc="검색기간">^[0-9]{0,3}$</term>
      <startid default="0" type="number" desc="시작TOTALID">^.{0,1000}$</startid>
      <exceptids desc="제외 기사키">^.{0,1000}$</exceptids>
      <exceptmcodes desc="제외 마스터코드">^.{0,1000}$</exceptmcodes>
      <exceptsources desc="제외 소스코드">^.{0,1000}$</exceptsources>
      <thumb desc="썸네일존재" default="N">^[Y|N]{1}$</thumb>
      <todaypress desc="오늘중앙" default="N">^[Y|N]{1}$</todaypress>
      <total desc="총건수사용" default="Y">^[Y|N]{1}$</total>
    </parameter>
    <request dmlType="sp" setNames="_DATA,SOURCES">dps.article.list</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("totalCount");
    </request>
    <keys>
      sources
      scodes
      mcodes
      keywords
      usage
      ctype
      startdt
      enddt
      term
      startid
      exceptids
      exceptmcodes
      exceptsources
      thumb
      todaypress
      total
      #paging
    </keys>
  </api>

  <!--편집기사목록 조회. id 수정하지 말것-->
  <api id="desking" expire="1s">
    <description>편집기사 목록을 조회한다.</description>
    <parameter>
      <ids desc="데이타셋 아이디" hints="datasetSeqs" require="Y">^[0-9]{1,6}(,[0-9]{1,6})*$</ids>
    </parameter>
    <request dmlType="sp" setNames="_DATA,RDATA">dps.article.desking</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      ids
      #paging
    </keys>
  </api>

  <api id="digitalSpecial.info" expire="5s">
    <description>디지털스페셜 정보를 조회한다.</description>
    <parameter>
      <digitalSpecialId desc="디지털스페셜 Id" require="Y">^[0-9]{1,20}$</digitalSpecialId>
    </parameter>
    <request>dps.article.digitalSpecial</request>
    <keys>
      digitalSpecialId
    </keys>
  </api>

  <!-- 이슈기사목록-->
  <api id="issue">
    <description>패키지 기사목록을 조회한다.</description>
    <parameter>
      <id type="number" desc="패키지아이디" require="Y">^[0-9]{1,20}$</id>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.issue</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("totalCount");
    </request>
    <keys>
      id
      #paging
    </keys>
  </api>

  <!--기사 FLAG 정보-->
  <api id="article.flag">
    <description>기사 FLAG정보를 조회한다.</description>
    <parameter>
      <totalId desc="기사Id" type="number" required="Y">^[0-9]{1,9}$</totalId>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.articleFlag</request>
    <keys>
      totalId
    </keys>
  </api>

  <!--기자 목록-->
  <api id="reporter">
    <description>기자 목록을 조회한다.</description>
    <parameter>
      <name desc="기자명">^.{0,1000}$</name>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.reporter</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      name
      #paging
    </keys>
  </api>

  <!--컬럼니스트 목록-->
  <api id="columnist">
    <description>컬럼니스트 목록을 조회한다.</description>
    <parameter>
      <name desc="컬럼니스트명">^.{0,1000}$</name>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.columnist</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      name
      #paging
    </keys>
  </api>

  <!--J팟 채널 목록-->
  <api id="jpod.channel">
    <description>J팟 채널 목록을 조회한다.</description>
    <parameter>
      <name desc="채널명">^.{0,1000}$</name>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.jpodChannel</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      #paging
    </keys>
  </api>

  <!--J팟 에피소드 목록-->
  <api id="jpod">
    <description>J팟 에피소드 목록을 조회한다.</description>
    <parameter>
      <id desc="채널ID" type="number" require="Y">^[0-9]{1,9}$</id>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.jpodEpisode</request>
    <request type="script" resultName="_TOTAL">
      var result = $ac.getAllResult();
      result.get("PARAM_MAP").get("total");
    </request>
    <keys>
      id
      #paging
    </keys>
  </api>

  <!--북마크등록-->
  <api id="scrap.insert" membership="cookie">
    <description>북마크를 등록한다.</description>
    <parameter>
      <totalId desc="기사Id" default="0" require="Y" type="number">^[0-9]{1,9}$</totalId>
      <remoteIP/>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.scrapInsert</request>
    <keys>
      totalId
    </keys>
  </api>

  <!--북마크삭제-->
  <api id="scrap.delete" membership="cookie">
    <description>북마크를 삭제한다.</description>
    <parameter>
      <totalId desc="기사Id" default="0" require="Y" type="number">^[0-9]{1,9}$</totalId>
      <remoteIP/>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.scrapDelete</request>
    <keys>
      totalId
    </keys>
  </api>

  <!--운세조회-->
  <api id="unse.my" membership="cookie">
    <description>띠별 운세를 조회한다.</description>
    <parameter>
      <tea desc="띠" require="Y">^.{1,3}$</tea>
      <year desc="출생년도" require="Y">^[0-9]{2}$</year>
    </parameter>
    <request dmlType="sp" setNames="_DATA">dps.article.unse</request>
    <keys>
      tea
      year
    </keys>
  </api>

</apiConfig>
