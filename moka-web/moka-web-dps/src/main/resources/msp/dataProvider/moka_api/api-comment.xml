<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2017 Joongang Ilbo, Inc. All rights reserved.
  -->

<apiConfig>

  <!-- 댓글 차단ID 목록  period="*/5 * * * * *"-->
  <api id="comment.blockid" expire="2m">
    <description>댓글 차단ID 목록을 조회한다.</description>
    <parameter>
      <div desc="태그타입" require="Y" default="U">^[I|U|W]$</div>
    </parameter>
    <request dmlType="sp" setNames="_DATA" outParam="_TOTAL">dps.comment.banned</request>
  </api>

  <!-- 댓글 차단IP 목록 -->
  <api id="comment.blockip" expire="2m">
    <description>댓글 차단IP 목록을 조회한다.</description>
    <parameter>
      <div desc="태그타입" require="Y" default="I">^[I|U|W]$</div>
    </parameter>
    <request dmlType="sp" setNames="_DATA" outParam="_TOTAL">dps.comment.banned</request>
  </api>

  <!-- 댓글 금지어 목록 -->
  <api id="comment.blockword" expire="2m">
    <description>댓글 금지어 목록을 조회한다.</description>
    <parameter>
      <div desc="태그타입" require="Y" default="W">^[I|U|W]$</div>
    </parameter>
    <request dmlType="sp" setNames="_DATA" outParam="_TOTAL">dps.comment.banned</request>
  </api>

  <!--
  댓글 목록 조회
  http://localhost:8081/moka_api/comment?totalId=23530553&referrer=joongang.joins.com/article&order=3
  -->
  <api id="comment">
    <description>기사의 댓글 목록을 조회한다.</description>
    <parameter>
      <contentId desc="기사키 또는 기자키" require="Y">^[0-9]{1,9}$</contentId>
      <referrer desc="레퍼러" require="Y">^.{1,500}$</referrer>
      <order desc="정렬" type="number">^[0-9]{1}$</order>
    </parameter>
    <request dmlType="sp" setNames="_DATA" outParam="_TOTAL,_DISP_TOTAL">dps.comment.list</request>
    <keys>
      contentId
      referrer
      order
      #paging
    </keys>
  </api>

  <!--
  내댓글 목록 조회
  http://localhost:8081/moka_api/comment.my?totalId=23530553&referrer=joongang.joins.com/article&order=3
  -->
  <api id="comment.my" membership="cookie">
    <description>기사의 내댓글 목록을 조회한다.</description>
    <parameter>
      <contentId desc="기사키 또는 기자키" require="Y">^[0-9]{1,9}$</contentId>
      <referrer desc="레퍼러" require="Y">^.{1,500}$</referrer>
      <order desc="정렬" type="number">^[0-9]{1}$</order>
    </parameter>
    <request dmlType="sp" setNames="_DATA" outParam="_TOTAL,_DISP_TOTAL">dps.comment.listMy
    </request>
    <keys>
      contentId
      referrer
      order
      #paging
    </keys>
  </api>

  <!--  <api id="comment.insert" membership="cookie" method="post">-->
  <!--    <description>댓글을 등록한다</description>-->
  <!--    <parameter>-->
  <!--      <parent desc="부모댓글SEQ" default="0" type="number">^[0-9]$</parent>-->
  <!--      <contentId desc="기사ID 또는 기자SEQ">^[0-9]$</contentId>-->
  <!--      <remoteIp/>-->
  <!--    </parameter>-->
  <!--    <request dmlType="sp" setNames="_DATA">dps.comment.commentInsert</request>-->
  <!--    <keys>-->
  <!--      parent-->
  <!--      contentId-->
  <!--      content-->
  <!--      referer-->
  <!--    </keys>-->
  <!--  </api>-->

</apiConfig>

